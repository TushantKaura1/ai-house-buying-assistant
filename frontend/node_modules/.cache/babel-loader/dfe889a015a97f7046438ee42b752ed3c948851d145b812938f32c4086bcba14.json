{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import{apiService,storage}from'../services/api';import config from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBar=_ref=>{let{onSearch,className='',showSuggestions=true}=_ref;const[query,setQuery]=useState('');const[suggestions,setSuggestions]=useState([]);const[isLoading,setIsLoading]=useState(false);const[showSuggestionsList,setShowSuggestionsList]=useState(false);const[recentSearches,setRecentSearches]=useState([]);const[filters,setFilters]=useState({});const navigate=useNavigate();const searchInputRef=useRef(null);const suggestionsRef=useRef(null);// Load recent searches from localStorage\nuseEffect(()=>{const saved=storage.get(config.storage.recentSearches)||[];setRecentSearches(saved);},[]);// Handle clicks outside suggestions\nuseEffect(()=>{const handleClickOutside=event=>{if(suggestionsRef.current&&!suggestionsRef.current.contains(event.target)){setShowSuggestionsList(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);// Debounced search suggestions\nuseEffect(()=>{const timer=setTimeout(()=>{if(query.trim()&&query.length>2){generateSuggestions(query);}else{setSuggestions([]);}},config.app.searchDebounceMs);return()=>clearTimeout(timer);},[query]);const generateSuggestions=async searchQuery=>{try{// Get AI-powered suggestions from backend\nconst response=await apiService.searchListings(searchQuery);if(response.success&&response.data.suggestions){setSuggestions(response.data.suggestions);}else{// Fallback to default suggestions\nsetSuggestions(config.defaultSuggestions.filter(s=>s.toLowerCase().includes(searchQuery.toLowerCase())));}}catch(error){console.error('Error generating suggestions:',error);// Fallback to default suggestions\nsetSuggestions(config.defaultSuggestions.filter(s=>s.toLowerCase().includes(searchQuery.toLowerCase())));}};const handleSearch=async function(){let searchQuery=arguments.length>0&&arguments[0]!==undefined?arguments[0]:query;if(!searchQuery.trim())return;setIsLoading(true);setShowSuggestionsList(false);try{// Save to recent searches\nconst updatedSearches=[searchQuery,...recentSearches.filter(s=>s!==searchQuery)].slice(0,10);storage.set(config.storage.recentSearches,updatedSearches);setRecentSearches(updatedSearches);// Navigate to search results page\nnavigate('/search',{state:{query:searchQuery,filters:filters}});// Call onSearch callback if provided\nif(onSearch){onSearch(searchQuery,filters);}}catch(error){console.error('Search error:',error);}finally{setIsLoading(false);}};const handleSuggestionClick=suggestion=>{setQuery(suggestion);handleSearch(suggestion);};const handleRecentSearchClick=recentSearch=>{setQuery(recentSearch);handleSearch(recentSearch);};const handleKeyPress=e=>{if(e.key==='Enter'){handleSearch();}else if(e.key==='Escape'){setShowSuggestionsList(false);}};const handleInputFocus=()=>{if(query.trim()||recentSearches.length>0){setShowSuggestionsList(true);}};const clearSearch=()=>{var _searchInputRef$curre;setQuery('');setSuggestions([]);setShowSuggestionsList(false);(_searchInputRef$curre=searchInputRef.current)===null||_searchInputRef$curre===void 0?void 0:_searchInputRef$curre.focus();};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-realtor-500\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"input\",{ref:searchInputRef,type:\"text\",value:query,onChange:e=>setQuery(e.target.value),onFocus:handleInputFocus,onKeyPress:handleKeyPress,placeholder:\"Try: 'affordable condos in Halifax under $500,000'\",className:\"input-field text-lg border-0 focus:ring-0 focus:border-0 shadow-none\",disabled:isLoading})}),query&&/*#__PURE__*/_jsx(\"button\",{onClick:clearSearch,className:\"text-gray-400 hover:text-gray-600 transition-colors duration-200\",\"aria-label\":\"Clear search\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSearch(),disabled:!query.trim()||isLoading,className:\"btn-primary px-8 py-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}):'Search'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\uD83D\\uDCA1 \",/*#__PURE__*/_jsx(\"strong\",{children:\"AI-Powered:\"}),\" Use natural language to find your dream property\"]})})]}),showSuggestionsList&&showSuggestions&&/*#__PURE__*/_jsxs(\"div\",{ref:suggestionsRef,className:\"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-200 z-50 max-h-96 overflow-y-auto\",children:[recentSearches.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-gray-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Recent Searches\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:recentSearches.slice(0,5).map((recentSearch,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleRecentSearchClick(recentSearch),className:\"w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg transition-colors duration-200 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{children:recentSearch})]},index))})]}),suggestions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"\\uD83D\\uDCA1 AI Suggestions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:suggestions.map((suggestion,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSuggestionClick(suggestion),className:\"w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg transition-colors duration-200 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-realtor-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"})}),/*#__PURE__*/_jsx(\"span\",{children:suggestion})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-t border-gray-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Quick Filters\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2\",children:config.propertyTypes.slice(1).map(type=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSearch(\"\".concat(type.label.toLowerCase(),\" in Halifax\")),className:\"px-3 py-2 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors duration-200\",children:[type.icon,\" \",type.label]},type.id))})]})]})]});};export default SearchBar;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","apiService","storage","config","jsx","_jsx","jsxs","_jsxs","SearchBar","_ref","onSearch","className","showSuggestions","query","setQuery","suggestions","setSuggestions","isLoading","setIsLoading","showSuggestionsList","setShowSuggestionsList","recentSearches","setRecentSearches","filters","setFilters","navigate","searchInputRef","suggestionsRef","saved","get","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","timer","setTimeout","trim","length","generateSuggestions","app","searchDebounceMs","clearTimeout","searchQuery","response","searchListings","success","data","defaultSuggestions","filter","s","toLowerCase","includes","error","console","handleSearch","arguments","undefined","updatedSearches","slice","set","state","handleSuggestionClick","suggestion","handleRecentSearchClick","recentSearch","handleKeyPress","e","key","handleInputFocus","clearSearch","_searchInputRef$curre","focus","concat","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","ref","type","value","onChange","onFocus","onKeyPress","placeholder","disabled","onClick","map","index","propertyTypes","label","icon","id"],"sources":["/Users/tushant/Desktop/AI Realtor Porject/frontend/src/components/SearchBar.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { apiService, storage } from '../services/api';\nimport config from '../config';\n\nconst SearchBar = ({ onSearch, className = '', showSuggestions = true }) => {\n  const [query, setQuery] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showSuggestionsList, setShowSuggestionsList] = useState(false);\n  const [recentSearches, setRecentSearches] = useState([]);\n  const [filters, setFilters] = useState({});\n  \n  const navigate = useNavigate();\n  const searchInputRef = useRef(null);\n  const suggestionsRef = useRef(null);\n\n  // Load recent searches from localStorage\n  useEffect(() => {\n    const saved = storage.get(config.storage.recentSearches) || [];\n    setRecentSearches(saved);\n  }, []);\n\n  // Handle clicks outside suggestions\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (suggestionsRef.current && !suggestionsRef.current.contains(event.target)) {\n        setShowSuggestionsList(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Debounced search suggestions\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (query.trim() && query.length > 2) {\n        generateSuggestions(query);\n      } else {\n        setSuggestions([]);\n      }\n    }, config.app.searchDebounceMs);\n\n    return () => clearTimeout(timer);\n  }, [query]);\n\n  const generateSuggestions = async (searchQuery) => {\n    try {\n      // Get AI-powered suggestions from backend\n      const response = await apiService.searchListings(searchQuery);\n      if (response.success && response.data.suggestions) {\n        setSuggestions(response.data.suggestions);\n      } else {\n        // Fallback to default suggestions\n        setSuggestions(config.defaultSuggestions.filter(s => \n          s.toLowerCase().includes(searchQuery.toLowerCase())\n        ));\n      }\n    } catch (error) {\n      console.error('Error generating suggestions:', error);\n      // Fallback to default suggestions\n      setSuggestions(config.defaultSuggestions.filter(s => \n        s.toLowerCase().includes(searchQuery.toLowerCase())\n      ));\n    }\n  };\n\n  const handleSearch = async (searchQuery = query) => {\n    if (!searchQuery.trim()) return;\n\n    setIsLoading(true);\n    setShowSuggestionsList(false);\n\n    try {\n      // Save to recent searches\n      const updatedSearches = [\n        searchQuery,\n        ...recentSearches.filter(s => s !== searchQuery)\n      ].slice(0, 10);\n      \n      storage.set(config.storage.recentSearches, updatedSearches);\n      setRecentSearches(updatedSearches);\n\n      // Navigate to search results page\n      navigate('/search', { \n        state: { \n          query: searchQuery,\n          filters: filters\n        }\n      });\n\n      // Call onSearch callback if provided\n      if (onSearch) {\n        onSearch(searchQuery, filters);\n      }\n    } catch (error) {\n      console.error('Search error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSuggestionClick = (suggestion) => {\n    setQuery(suggestion);\n    handleSearch(suggestion);\n  };\n\n  const handleRecentSearchClick = (recentSearch) => {\n    setQuery(recentSearch);\n    handleSearch(recentSearch);\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    } else if (e.key === 'Escape') {\n      setShowSuggestionsList(false);\n    }\n  };\n\n  const handleInputFocus = () => {\n    if (query.trim() || recentSearches.length > 0) {\n      setShowSuggestionsList(true);\n    }\n  };\n\n  const clearSearch = () => {\n    setQuery('');\n    setSuggestions([]);\n    setShowSuggestionsList(false);\n    searchInputRef.current?.focus();\n  };\n\n  return (\n    <div className={`relative ${className}`}>\n      {/* Main Search Input */}\n      <div className=\"search-bar\">\n        <div className=\"flex items-center space-x-4\">\n          {/* Search Icon */}\n          <div className=\"text-realtor-500\">\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n            </svg>\n          </div>\n\n          {/* Search Input */}\n          <div className=\"flex-1\">\n            <input\n              ref={searchInputRef}\n              type=\"text\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n              onFocus={handleInputFocus}\n              onKeyPress={handleKeyPress}\n              placeholder=\"Try: 'affordable condos in Halifax under $500,000'\"\n              className=\"input-field text-lg border-0 focus:ring-0 focus:border-0 shadow-none\"\n              disabled={isLoading}\n            />\n          </div>\n\n          {/* Clear Button */}\n          {query && (\n            <button\n              onClick={clearSearch}\n              className=\"text-gray-400 hover:text-gray-600 transition-colors duration-200\"\n              aria-label=\"Clear search\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          )}\n\n          {/* Search Button */}\n          <button\n            onClick={() => handleSearch()}\n            disabled={!query.trim() || isLoading}\n            className=\"btn-primary px-8 py-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isLoading ? (\n              <div className=\"loading-spinner\"></div>\n            ) : (\n              'Search'\n            )}\n          </button>\n        </div>\n\n        {/* AI Search Hint */}\n        <div className=\"mt-4 text-center\">\n          <p className=\"text-sm text-gray-600\">\n            ðŸ’¡ <strong>AI-Powered:</strong> Use natural language to find your dream property\n          </p>\n        </div>\n      </div>\n\n      {/* Suggestions Dropdown */}\n      {showSuggestionsList && showSuggestions && (\n        <div\n          ref={suggestionsRef}\n          className=\"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-200 z-50 max-h-96 overflow-y-auto\"\n        >\n          {/* Recent Searches */}\n          {recentSearches.length > 0 && (\n            <div className=\"p-4 border-b border-gray-100\">\n              <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Recent Searches</h3>\n              <div className=\"space-y-2\">\n                {recentSearches.slice(0, 5).map((recentSearch, index) => (\n                  <button\n                    key={index}\n                    onClick={() => handleRecentSearchClick(recentSearch)}\n                    className=\"w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg transition-colors duration-200 flex items-center space-x-2\"\n                  >\n                    <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    <span>{recentSearch}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* AI Suggestions */}\n          {suggestions.length > 0 && (\n            <div className=\"p-4\">\n              <h3 className=\"text-sm font-medium text-gray-700 mb-2\">ðŸ’¡ AI Suggestions</h3>\n              <div className=\"space-y-2\">\n                {suggestions.map((suggestion, index) => (\n                  <button\n                    key={index}\n                    onClick={() => handleSuggestionClick(suggestion)}\n                    className=\"w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg transition-colors duration-200 flex items-center space-x-2\"\n                  >\n                    <svg className=\"w-4 h-4 text-realtor-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                    </svg>\n                    <span>{suggestion}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Quick Filters */}\n          <div className=\"p-4 border-t border-gray-100\">\n            <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Quick Filters</h3>\n            <div className=\"grid grid-cols-2 gap-2\">\n              {config.propertyTypes.slice(1).map((type) => (\n                <button\n                  key={type.id}\n                  onClick={() => handleSearch(`${type.label.toLowerCase()} in Halifax`)}\n                  className=\"px-3 py-2 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors duration-200\"\n                >\n                  {type.icon} {type.label}\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SearchBar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}